<!-- extend from base layout -->



<div class="row">
    <h6>
        <div class="table-header">
            部署服务器数量：<span class="badge badge-danger">{{total}}</span>
        </div>

        <div class="table-responsive">
                        {{form.csrf_token}}
                            <table id="sample-table-1" class="table table-striped table-bordered table-hover">
                                <caption></caption>
                                <thead>
                                    <tr>
                                        <th class="center" style="width:20px;">
                                            <label>
                                                <input type="checkbox" class="ace">
                                                <span class="lbl"></span>
                                            </label>
                                        </th>
                                        <th>节点</th>
                                        <th>环境</th>
                                    </tr>
                                </thead>

                                <tbody>
                                    {% for R in object_list %}
                                    <tr>
                                        <td class="center">
                                            <label>
                                                <input type="checkbox" class="ace" name="cb" value="{{R.node_ip}}">
                                                <span class="lbl"></span>
                                            </label>
                                        </td>
                                        <td><p><a href="{{ url_for('servers.editserver', ip = R.node_ip)}}">{{R.node_ip}}</a></p>{{R.desc}}
                                        </td>
                                        <td>{{ APP_ENV[R.env] }}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>

                    </div>

        </h6>
</div>


<script src="/static/js/jquery-2.0.3.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/jquery.dataTables.min.js"></script>
<script src="/static/js/jquery.dataTables.bootstrap.js"></script>

<script type="text/javascript">

    $('table th input:checkbox').on('click', function(){
        var that = this;
        $(this).closest('table').find('tr > td:first-child input:checkbox')
        .each(function(){
            this.checked = that.checked;
            $(this).closest('tr').toggleClass('selected');
        });
    });
</script>
